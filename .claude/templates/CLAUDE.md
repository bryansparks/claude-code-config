# CLAUDE.md - Claude Code Configuration

**Status**: Multi-layer configuration (Organization + Project + Vision)
**Auto-generated by**: Claude-Config installation or /init-project command
**Last Updated**: ${TIMESTAMP}

---

## üõ°Ô∏è Organization Standards (Protected)

**DO NOT EDIT**: This section is managed by Claude-Config installation
**To update**: Modify ORGANIZATION.md in Claude-Config repo and run `install.sh --update`

@include ORGANIZATION.md

---

## üìÇ Project Context (Auto-loaded)

**Project Name**: ${PROJECT_NAME}
**Auto-detected from**: Environment variable ($CLAUDE_PROJECT), git repository, or directory name

### Project Configuration
@include projects/${PROJECT_NAME}/PROJECT.md

### Vision Document
@include projects/${PROJECT_NAME}/VISION.md

---

## üìä Session Information

**Current Working Directory**: $(pwd)
**Project**: ${PROJECT_NAME}
**Persona**: ${CLAUDE_PERSONA:-not-set}
**Context Layers**: Organization ‚Üí Project ‚Üí Vision

---

## üöÄ Quick Commands

### Project Management
- `/init-project <name>` - Initialize new project (preserves org standards)
- `/sync-context` - Reload project and vision context
- `/load-project <name>` - Load different project context

### Vision-Driven Development
- `/create-vision-doc` - Generate vision document for current project
- `/update-vision` - Update vision based on implementation learnings
- `/validate-vision` - Validate vision against completeness checklist
- `/implement --phase N` - Execute autonomous development for phase N

### Context Management
- `/switch-persona <persona>` - Switch to different persona (engineer|qa|em|pm|ux)
- `/status` - Show current project, persona, and loaded context

---

## üí° How This Works

### 3-Layer Architecture

1. **Organization Layer** (ORGANIZATION.md)
   - Company-wide coding standards
   - Approved technology stack
   - Security policies
   - Development workflow
   - **Never changes per-project**

2. **Project Layer** (projects/${PROJECT_NAME}/PROJECT.md)
   - Project-specific architecture
   - Team composition
   - File structure
   - Integration points
   - **Stable during project lifetime**

3. **Vision Layer** (projects/${PROJECT_NAME}/VISION.md)
   - Strategic direction
   - Implementation roadmap
   - Success criteria
   - Architectural decisions
   - **Living document, updated sprint-by-sprint**

### Variable Substitution

Claude Code automatically substitutes these variables:
- `${PROJECT_NAME}` - Auto-detected from $CLAUDE_PROJECT, git, or directory
- `${CLAUDE_PERSONA}` - Current active persona (engineer|qa|em|pm|ux)
- `$(pwd)` - Current working directory
- `$(date)` - Current date
- `${TIMESTAMP}` - Current timestamp

### Context Loading on Startup

When you start Claude Code in a project directory:

1. **Organization standards** are loaded from ORGANIZATION.md
2. **Project context** is auto-detected and PROJECT.md is loaded
3. **Vision document** is loaded if VISION.md exists
4. **Persona configuration** is loaded based on $CLAUDE_PERSONA

This ensures every conversation has full context without manual setup.

---

## üîç How Project Detection Works

### Detection Priority

1. **Environment Variable**: `export CLAUDE_PROJECT="my-project"`
2. **Git Repository**: Extracted from `.git/config` remote URL
3. **Directory Name**: Current directory name as fallback

### Example

```bash
# Option 1: Explicit project name
export CLAUDE_PROJECT="payment-service"
claude-code

# Option 2: Auto-detect from git
cd ~/repos/payment-service
claude-code  # Automatically loads payment-service context

# Option 3: Auto-detect from directory
cd ~/my-api-project
claude-code  # Automatically loads my-api-project context
```

---

## üìù Customizing This Configuration

### For Organization-Wide Changes

**IMPORTANT**: Don't edit this file directly for organization standards.

**Instead:**
1. Fork or clone the Claude-Config repository
2. Edit `ORGANIZATION.md` in the repo
3. Commit and push changes
4. All users run: `install.sh --update` to pull latest standards

### For Project-Specific Changes

**Edit these files** (created by `/init-project`):
- `~/.claude/projects/${PROJECT_NAME}/PROJECT.md` - Project architecture and conventions
- `~/.claude/projects/${PROJECT_NAME}/VISION.md` - Product goals and roadmap

### For Personal Preferences

Create `~/.claude/PERSONAL.md` with your preferences:
```markdown
# Personal Claude Code Preferences

## Editor
- Preferred IDE: [VS Code, IntelliJ, etc.]
- Code style: [Custom formatting rules]

## Working Hours
- Available: [Your working hours]
- Timezone: [Your timezone]
```

Then add to this file:
```markdown
## Personal Preferences
@include PERSONAL.md
```

---

## üõ†Ô∏è Troubleshooting

### Project Context Not Loading

**Symptoms**: Claude Code doesn't see PROJECT.md content

**Solutions**:
1. Verify PROJECT.md exists: `ls ~/.claude/projects/${PROJECT_NAME}/PROJECT.md`
2. Check project name: `echo $CLAUDE_PROJECT`
3. Reload context: `/sync-context`
4. Restart Claude Code

### Organization Standards Not Applied

**Symptoms**: Organization standards (coding style, security) not enforced

**Solutions**:
1. Verify ORGANIZATION.md exists: `ls ~/.claude/ORGANIZATION.md`
2. Reinstall: `install.sh --update`
3. Check CLAUDE.md includes it: `grep "ORGANIZATION.md" ~/.claude/CLAUDE.md`

### Multiple Projects Conflicting

**Symptoms**: Wrong project context loaded

**Solutions**:
1. Set explicit project: `export CLAUDE_PROJECT="correct-project-name"`
2. Use `/load-project <name>` command
3. Navigate to correct directory before starting Claude Code

---

## üìö Learning Resources

### Getting Started
- [Quick Start Guide](docs/QUICK_START.md)
- [Skills Guide](SKILLS.md) - Auto-invoked task assistance
- [How to Use Subagents](docs/HOW_TO_USE_SUBAGENTS.md)
- [How to Use Skills](docs/HOW_TO_USE_SKILLS.md)

### Advanced Topics
- [Vision System](docs/VISION_SYSTEM.md) - Vision-driven development
- [MCP Servers](docs/MCP_SERVERS.md) - Model Context Protocol integrations
- [Metrics Decision Guide](docs/METRICS_DECISION_GUIDE.md) - Should you enable metrics?

### Organization Deployment
- [Organization Deployment Guide](ORGANIZATION_DEPLOYMENT_GUIDE.md)
- [Installation Guide](docs/INSTALLATION.md)

---

## üìû Support

**Questions about this configuration?**
- Read the documentation in `docs/`
- Check GitHub issues
- Contact your engineering leadership

**Reporting issues:**
- Claude Code bugs: [Claude Code GitHub](https://github.com/anthropics/claude-code)
- Configuration issues: [Your Claude-Config repo issues]

---

*Protected by /init-project command | Organization standards preserved*
*Version: 2.3.0 | Last updated: 2025-01-11*
