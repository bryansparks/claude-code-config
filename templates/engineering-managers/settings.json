{
  "persona": {
    "name": "Engineering Manager",
    "role": "Engineering management and team leadership",
    "description": "Specialized persona for engineering managers focused on team performance, project health, and delivery excellence"
  },
  "hooks": {
    "enabled": true,
    "auto_execute": {
      "daily": [
        {
          "name": "blocker-detector",
          "schedule": "09:00",
          "description": "Morning blocker scan before standups",
          "notify": true
        }
      ],
      "weekly": [
        {
          "name": "pr-review-summary",
          "schedule": "Monday 09:00",
          "description": "Weekly PR review status",
          "args": ["", "7", "text"]
        },
        {
          "name": "team-velocity-calculator",
          "schedule": "Friday 16:00",
          "description": "End of week velocity update",
          "args": ["", "6", "text"]
        },
        {
          "name": "technical-debt-tracker",
          "schedule": "Sunday 20:00",
          "description": "Weekly technical debt report",
          "args": [".", "text"]
        },
        {
          "name": "code-quality-trends",
          "schedule": "Sunday 20:00",
          "description": "Weekly code quality trends",
          "args": [".", "30", "text"]
        }
      ],
      "sprint": [
        {
          "name": "sprint-health-check",
          "trigger": "sprint_start",
          "description": "Sprint kickoff health check"
        },
        {
          "name": "sprint-health-check",
          "trigger": "sprint_mid",
          "description": "Mid-sprint health check"
        },
        {
          "name": "sprint-health-check",
          "trigger": "sprint_end",
          "description": "Sprint completion summary"
        }
      ],
      "on_demand": [
        {
          "name": "dependency-analyzer",
          "description": "Run when planning cross-team features"
        }
      ]
    },
    "available_hooks": {
      "pr-review-summary.sh": {
        "description": "Summarizes PR activity and review status",
        "usage": "./pr-review-summary.sh [repo] [days] [format]",
        "outputs": ["text", "json", "markdown"]
      },
      "sprint-health-check.sh": {
        "description": "Checks current sprint progress and health",
        "usage": "./sprint-health-check.sh [project] [sprint-number] [format]",
        "outputs": ["text", "json", "markdown"]
      },
      "technical-debt-tracker.sh": {
        "description": "Tracks and reports technical debt",
        "usage": "./technical-debt-tracker.sh [repo-path] [format]",
        "outputs": ["text", "json", "markdown"]
      },
      "team-velocity-calculator.sh": {
        "description": "Calculates team velocity and trends",
        "usage": "./team-velocity-calculator.sh [project] [num-sprints] [format]",
        "outputs": ["text", "json", "markdown"]
      },
      "dependency-analyzer.sh": {
        "description": "Analyzes inter-team and code dependencies",
        "usage": "./dependency-analyzer.sh [repo-path] [type] [format]",
        "types": ["code", "team", "all"],
        "outputs": ["text", "json", "markdown"]
      },
      "code-quality-trends.sh": {
        "description": "Tracks code quality metrics over time",
        "usage": "./code-quality-trends.sh [repo-path] [timeframe-days] [format]",
        "outputs": ["text", "json", "markdown"]
      },
      "blocker-detector.sh": {
        "description": "Detects and reports blockers",
        "usage": "./blocker-detector.sh [repo] [format] [notify]",
        "outputs": ["text", "json", "markdown"]
      }
    }
  },
  "commands": {
    "available": [
      {
        "name": "analyze-project",
        "description": "Comprehensive project health analysis",
        "usage": "/analyze-project [repository] [--depth=full|standard|quick]"
      },
      {
        "name": "estimate-effort",
        "description": "Data-driven effort estimation for features",
        "usage": "/estimate-effort [feature-description] [--method=historical|complexity|hybrid]"
      },
      {
        "name": "technical-debt-audit",
        "description": "Full technical debt assessment and prioritization",
        "usage": "/technical-debt-audit [repository] [--category=all|code|architecture]"
      },
      {
        "name": "team-metrics",
        "description": "Generate team performance metrics and DORA metrics",
        "usage": "/team-metrics [team-name] [--timeframe=week|month|quarter]"
      },
      {
        "name": "sprint-planning",
        "description": "Sprint planning assistance with capacity and velocity analysis",
        "usage": "/sprint-planning [--sprint-number=N] [--team=name]"
      },
      {
        "name": "capacity-planning",
        "description": "Strategic capacity planning for teams and resources",
        "usage": "/capacity-planning [--timeframe=quarter|year] [--team=name]"
      },
      {
        "name": "retrospective-analysis",
        "description": "Analyze retrospective data and identify patterns",
        "usage": "/retrospective-analysis [--timeframe=sprint|quarter|year]"
      },
      {
        "name": "dependency-map",
        "description": "Visualize and analyze team and service dependencies",
        "usage": "/dependency-map [--scope=team|service|feature] [--format=text|mermaid]"
      }
    ]
  },
  "subagents": {
    "available": [
      {
        "name": "project-analyzer",
        "role": "Project health and risk assessment",
        "invoked_by": ["analyze-project", "sprint-planning"]
      },
      {
        "name": "team-coordinator",
        "role": "Cross-team coordination and blocker management",
        "invoked_by": ["dependency-map", "sprint-planning"]
      },
      {
        "name": "technical-debt-assessor",
        "role": "Technical debt identification and prioritization",
        "invoked_by": ["technical-debt-audit", "analyze-project", "estimate-effort"]
      },
      {
        "name": "metrics-reporter",
        "role": "Sprint metrics, velocity, and DORA metrics",
        "invoked_by": ["team-metrics", "sprint-planning", "capacity-planning"]
      },
      {
        "name": "code-health-monitor",
        "role": "Code quality and complexity monitoring",
        "invoked_by": ["analyze-project", "technical-debt-audit"]
      }
    ]
  },
  "workflows": {
    "sprint_start": {
      "sequence": [
        "Run sprint-health-check hook",
        "Review blockers from blocker-detector",
        "Check dependencies via dependency-analyzer",
        "Review capacity via sprint-planning command"
      ]
    },
    "sprint_mid": {
      "sequence": [
        "Run sprint-health-check hook",
        "Check for new blockers",
        "Review PR status",
        "Assess if sprint goal is at risk"
      ]
    },
    "sprint_end": {
      "sequence": [
        "Run sprint-health-check hook",
        "Calculate velocity via team-velocity-calculator",
        "Generate retrospective data",
        "Update technical debt tracker"
      ]
    },
    "quarterly_planning": {
      "sequence": [
        "Run capacity-planning command",
        "Review technical-debt-audit",
        "Analyze retrospective-analysis for trends",
        "Generate dependency-map for roadmap",
        "Create strategic plan"
      ]
    }
  },
  "metrics": {
    "tracked": [
      "Sprint velocity",
      "DORA metrics (deployment frequency, lead time, MTTR, change failure rate)",
      "Code quality (coverage, complexity, duplication)",
      "Technical debt (total, by category)",
      "Team health (WIP, blockers, on-call load)",
      "PR metrics (size, review time, merge time)"
    ],
    "targets": {
      "velocity_variance": "< 10%",
      "test_coverage": "> 80%",
      "pr_review_time": "< 4 hours",
      "deployment_frequency": "> 1 per day",
      "mttr": "< 1 hour",
      "blocker_resolution": "< 2 days"
    }
  },
  "notifications": {
    "enabled": true,
    "channels": {
      "slack": {
        "enabled": false,
        "webhook_url": "${SLACK_WEBHOOK_URL}",
        "default_channel": "#engineering"
      },
      "email": {
        "enabled": false,
        "smtp_server": "${SMTP_SERVER}",
        "from": "engineering-manager@company.com"
      }
    },
    "alerts": {
      "critical_blockers": {
        "enabled": true,
        "threshold": 1,
        "channels": ["slack", "email"]
      },
      "sprint_at_risk": {
        "enabled": true,
        "threshold": "health_score < 60",
        "channels": ["slack"]
      },
      "technical_debt_spike": {
        "enabled": true,
        "threshold": "increase > 20%",
        "channels": ["slack"]
      }
    }
  },
  "integrations": {
    "project_management": {
      "jira": {
        "enabled": false,
        "url": "${JIRA_URL}",
        "api_token": "${JIRA_API_TOKEN}",
        "project_key": "${JIRA_PROJECT_KEY}"
      },
      "linear": {
        "enabled": false,
        "api_key": "${LINEAR_API_KEY}",
        "team_id": "${LINEAR_TEAM_ID}"
      }
    },
    "ci_cd": {
      "github_actions": {
        "enabled": true,
        "via": "github MCP server"
      },
      "jenkins": {
        "enabled": false,
        "url": "${JENKINS_URL}",
        "api_token": "${JENKINS_API_TOKEN}"
      }
    },
    "monitoring": {
      "datadog": {
        "enabled": false,
        "api_key": "${DATADOG_API_KEY}",
        "app_key": "${DATADOG_APP_KEY}"
      }
    }
  },
  "preferences": {
    "default_timeframe": "sprint",
    "default_output_format": "text",
    "velocity_calculation_sprints": 6,
    "tech_debt_allocation_pct": 20,
    "sprint_length_days": 10,
    "work_days_per_week": 5
  },
  "vision_doc_support": {
    "enabled": true,
    "auto_load": true,
    "session_hook": "load-project-context.sh",
    "commands": [
      "create-vision-doc",
      "update-vision",
      "validate-vision",
      "sync-vision",
      "team-metrics"
    ],
    "focus_areas": [
      "Team structure and composition",
      "Sprint planning and timeline",
      "Resource allocation",
      "Risk management",
      "Dependencies and blockers",
      "Velocity and metrics tracking",
      "Stakeholder communication"
    ],
    "templates": {
      "vision_doc": "em-vision-template.md",
      "roadmap": "delivery-roadmap-template.md",
      "risk_register": "risk-register-template.md"
    }
  }
}
